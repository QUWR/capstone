
# 🍳 하루 한끼 (One Meal a Day)

**AI 챗봇과 이미지 분석을 통해 사용자의 냉장고 속 식재료 맞춤형 레시피를 추천해주는 스마트 요리 보조 서비스입니다.**

## 📌 프로젝트 소개

'하루 한끼'는 사용자가 보유한 식재료 사진을 분석하거나 대화형 인터페이스를 통해 개인의 식습관 및 선호도를 반영한 맞춤형 레시피를 제공합니다. 단순한 레시피 제공을 넘어, 대체 재료 추천, 실시간 요리 어시스턴스, 영양 정보 분석 등 요리의 전 과정을 지원합니다.

## 📅 개발 기간

- **2025.03 ~ 2025.06**

## 🛠️ 기술 스택 (Backend)

- **Framework:** Java 17, Spring Boot 3.4.4
- **Security:** Spring Security, JWT (JJWT 0.12.3)
- **Data:** Spring Data JPA, MySQL 8.0
- **Communication:** RestTemplate, WebClient (WebFlux), WebSocket (STOMP)
- **Build Tool:** Gradle

## ✨ 주요 기능 및 핵심 구현

### 1. AI 기반 맞춤형 레시피 생성

- **이미지 분석 레시피:** 사용자가 업로드한 식재료 사진과 추가 지시사항을 Flask AI 서버로 전달하여 레시피를 생성합니다.
- **개인화 추천:** 사용자의 프로필에 저장된 **식습관(Habit)** 및 **선호도(Preference)**를 AI 모델에 함께 전달하여 진정한 맞춤형 결과를 도출합니다.

### 2. 스마트 대체 재료 시스템 (LLM 기반)

- **대체 가능성 판단:** 특정 재료가 없을 때, 사용자가 제안한 대체 재료의 적합성을 LLM이 판단합니다.
- **동적 레시피 업데이트:** 대체가 확정되면 조리법(Instruction) 내의 재료명을 자동으로 교체하고, 조리 시간 등을 재계산하여 업데이트합니다.

### 3. 실시간 요리 및 영양 관리

- **요리 어시스턴스:** 단계별 조리법, 단계별 소요 시간(초 단위), 난이도 등을 포함한 상세 가이드를 제공합니다.
- **자동 영양 성분 분석:** 레시피가 생성되거나 재료가 변경될 때마다 Flask API를 호출하여 칼로리, 탄단지 등 9가지 영양 성분을 실시간으로 계산하고 저장합니다.

### 4. 보안 및 실시간 알림 아키텍처

- **JWT 기반 인증:** `LoginFilter`와 `JwtFilter`를 통해 Access/Refresh 토큰 기반의 보안 시스템을 구축했습니다.
- **WebSocket 알림:** 레시피 생성 완료 및 대체 재료 처리 결과 등 주요 이벤트 발생 시 STOMP 프로토콜을 통해 사용자에게 실시간 시스템 알림을 전송합니다.

## 📋 API 명세 (주요 엔드포인트)

| **Method** | **URI** | **설명** |
| --- | --- | --- |
| **POST** | `/api/auth/register` | 회원가입 (식습관, 선호도 포함) |
| **POST** | `/api/auth/login` | 로그인 및 JWT 발급 |
| **POST** | `/api/recipe/generate` | 이미지 기반 AI 레시피 생성 |
| **POST** | `/api/recipe/substitute` | 대체 재료 적용 및 레시피 갱신 |
| **GET** | `/api/recipe/{id}/cooking-assistance` | 단계별 조리 가이드 조회 |
| **GET** | `/api/recipe/{id}/nutrition` | 레시피 영양 정보 조회 |
| **POST** | `/api/recipe/{id}/satisfaction` | 레시피 만족도 및 피드백 저장 |

## 📊 데이터 구조 (Entity)

- **User:** 사용자 정보 및 식습관/선호도 관리
- **Recipe:** 레시피 기본 정보 및 사용자 매핑
- **Ingredient / Instruction:** 상세 재료 및 단계별 조리법 (초 단위 시간 포함)
- **Nutrition:** 레시피별 상세 영양 성분 데이터
- **Satisfaction:** 사용자의 레시피 평가 데이터

---

**하루 한끼**는 복잡한 요리 과정을 AI 기술로 단순화하여 누구나 건강하고 즐거운 식생활을 누릴 수 있도록 돕습니다.
